<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Hyperlink networks</title>

  <meta property="description" itemprop="description" content="A short description of the post."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2023-01-20"/>
  <meta property="article:created" itemprop="dateCreated" content="2023-01-20"/>
  <meta name="article:author" content="Robert Ackland"/>
  <meta name="article:author" content="Francisca Borquez"/>
  <meta name="article:author" content="Sidiq Madya"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Hyperlink networks"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="A short description of the post."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Hyperlink networks"/>
  <meta property="twitter:description" content="A short description of the post."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","output","draft"]}},"value":[{"type":"character","attributes":{},"value":["Hyperlink networks"]},{"type":"character","attributes":{},"value":["A short description of the post.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Robert Ackland"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":[]}},"value":[]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Francisca Borquez"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Sidiq Madya"]}]}]},{"type":"character","attributes":{},"value":["2023-01-20"]},{"type":"character","attributes":{},"value":["rstats","hyperlink networks","vosonsml"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"logical","attributes":{},"value":[true]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["activity_network.png","actor_network.png","hyperlink-networks_files/anchor-4.2.2/anchor.min.js","hyperlink-networks_files/bowser-1.9.3/bowser.min.js","hyperlink-networks_files/distill-2.2.21/template.v2.js","hyperlink-networks_files/header-attrs-2.19/header-attrs.js","hyperlink-networks_files/jquery-3.6.0/jquery-3.6.0.js","hyperlink-networks_files/jquery-3.6.0/jquery-3.6.0.min.js","hyperlink-networks_files/jquery-3.6.0/jquery-3.6.0.min.map","hyperlink-networks_files/popper-2.6.0/popper.min.js","hyperlink-networks_files/tippy-6.2.7/tippy-bundle.umd.min.js","hyperlink-networks_files/tippy-6.2.7/tippy-light-border.css","hyperlink-networks_files/tippy-6.2.7/tippy.css","hyperlink-networks_files/tippy-6.2.7/tippy.umd.min.js","hyperlink-networks_files/webcomponents-2.0.0/webcomponents.js","seed_sites_20.csv","sites.csv"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="hyperlink-networks_files/header-attrs-2.19/header-attrs.js"></script>
  <script src="hyperlink-networks_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="hyperlink-networks_files/popper-2.6.0/popper.min.js"></script>
  <link href="hyperlink-networks_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="hyperlink-networks_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="hyperlink-networks_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="hyperlink-networks_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="hyperlink-networks_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="hyperlink-networks_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="hyperlink-networks_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Hyperlink networks","description":"A short description of the post.","authors":[{"author":"Robert Ackland","authorURL":{},"affiliation":"&nbsp;","affiliationURL":"#","orcidID":""},{"author":"Francisca Borquez","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""},{"author":"Sidiq Madya","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2023-01-20T00:00:00.000+11:00","citationText":"Ackland, et al., 2023"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Hyperlink networks</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">rstats</div>
<div class="dt-tag">hyperlink networks</div>
<div class="dt-tag">vosonsml</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>A short description of the post.</p></p>
</div>

<div class="d-byline">
  Robert Ackland true 
  
,   Francisca Borquez  
  
,   Sidiq Madya  
  
<br/>2023-01-20
</div>

<div class="d-article">
<h1 id="collecting-hyperlink-data-via-web-crawling">1. Collecting hyperlink data via web crawling</h1>
<p>Let’s first test out hyperlink collection.</p>
<p>We are going to use VOSON to collect hyperlinks.</p>
<p>First load the libraries.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://magrittr.tidyverse.org'>magrittr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/vosonlab/vosonSML'>vosonSML</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://igraph.org'>igraph</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://yihui.org/knitr/'>knitr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>We create a dataframe containing the pages to be crawled. We are reading a csv file with pages for 20 organisations. These organisations are samples of non-state or non-government entities (for-profit and non-for-profit) which actively engage in ‘data sovereignty’ debates as part of their concern in contemporary data politics. These organisations include NGO, research think thank, media, companies, industry associations, and movements or initiatives from communities. These different group of organisations deal with various issues and values when promoting their agenda ranging from security, privacy, innovation, entrepreneurship, to human rights and social justice.</p>
<p>Being involved in the emerging issues of global data politics, these organisations are based or headquartered in different countries across the globe include the US, UK, Canada, Germany, The Netherlands, Belgium, and Denmark which represent the Global North, and South Africa, India and Hong Kong representing the Global South. The websites are being used by these organisations to participate in the emerging debates on data politics. Their participation in the debates are becoming more intense in the midst of the ongoing process of massive ‘digitisation’ and ‘datafication’ in societies. We have chosen 1 or 2 pages from each website and are using these as “seed pages” where the crawler will start: in this way we are directing the crawler to the pages we think will be most “productive” in terms of containing hyperlinks and text that are of interest to the study.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#For more information on collecting hyperlink networks using vosonSML, see:</span></span>
<span><span class='co'>#https://vosonlab.github.io/posts/2021-03-15-hyperlink-networks-with-vosonsml/</span></span>
<span></span>
<span><span class='co'># The dataframe needs to have the folllowing fields, for hyperlink collection via vosonSML:</span></span>
<span><span class='co'># page: the seed pages</span></span>
<span><span class='co'># type: the type of crawl, with allowed values:</span></span>
<span><span class='co'>#   int: collect all hyperlinks but only follow links that have same domain as seed page (internal)</span></span>
<span><span class='co'>#   ext: collect all hyperlinks but only follow links that have different domain as seed page (external)</span></span>
<span><span class='co'>#   all: collect and follow all hyperlinks</span></span>
<span><span class='co'># max_depth: how many levels of hyperlinks to follow from seed page</span></span>
<span><span class='co'>#For example:</span></span>
<span><span class='co'>#pages &lt;- data.frame(page = c("http://vosonlab.net",</span></span>
<span><span class='co'>#                             "https://rsss.cass.anu.edu.au",</span></span>
<span><span class='co'>#                             "https://www.ansna.org.au"),</span></span>
<span><span class='co'>#                    type = c("int", "ext", "all"),</span></span>
<span><span class='co'>#                    max_depth = c(1, 1, 1))</span></span>
<span></span>
<span><span class='va'>pages</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"seed_sites_20.csv"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/kable.html'>kable</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>pages</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<table>
<colgroup>
<col style="width: 71%" />
<col style="width: 3%" />
<col style="width: 6%" />
<col style="width: 14%" />
<col style="width: 4%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">page</th>
<th style="text-align: left;">type</th>
<th style="text-align: right;">max_depth</th>
<th style="text-align: left;">domain</th>
<th style="text-align: left;">country</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://womeninlocalization.com/partners/" class="uri">https://womeninlocalization.com/partners/</a></td>
<td style="text-align: left;">int</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">womeninlocalization.com</td>
<td style="text-align: left;">US</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://womeninlocalization.com/data-localization-laws-around-the-world/" class="uri">https://womeninlocalization.com/data-localization-laws-around-the-world/</a></td>
<td style="text-align: left;">int</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">womeninlocalization.com</td>
<td style="text-align: left;">US</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://iwgia.org/en/network.html" class="uri">https://iwgia.org/en/network.html</a></td>
<td style="text-align: left;">int</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">iwgia.org</td>
<td style="text-align: left;">Denmark</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://www.iwgia.org/en/indigenous-data-sovereignty/4699-iw-2022-indigenous-data-sovereignty.html?filter_tag%5B0%5D=37" class="uri">https://www.iwgia.org/en/indigenous-data-sovereignty/4699-iw-2022-indigenous-data-sovereignty.html?filter_tag[0]=37</a></td>
<td style="text-align: left;">int</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">iwgia.org</td>
<td style="text-align: left;">Denmark</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://indigenousdatalab.org/networks/" class="uri">https://indigenousdatalab.org/networks/</a></td>
<td style="text-align: left;">int</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">indigenousdatalab.org</td>
<td style="text-align: left;">US</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://indigenousdatalab.org/projects-working/" class="uri">https://indigenousdatalab.org/projects-working/</a></td>
<td style="text-align: left;">int</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">indigenousdatalab.org</td>
<td style="text-align: left;">US</td>
</tr>
</tbody>
</table>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#remove pages that caused error with crawler</span></span>
<span><span class='co'>#Rob to check this again..error might no longer be present with new version of vosonSML</span></span>
<span><span class='va'>pages</span> <span class='op'>&lt;-</span> <span class='va'>pages</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"ispa.org.za"</span>, <span class='va'>pages</span><span class='op'>$</span><span class='va'>page</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Note that for the crawler all we need is a dataframe with three columns: page, type, max_depth (explain these), but of course it might be useful to include other meta data in this file that is used in analysis later.</p>
<p>Now run the crawl.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Remember to set `verbose=TRUE` to see the crawler working</span></span>
<span><span class='va'>crawlDF</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/vosonSML/man/Authenticate.html'>Authenticate</a></span><span class='op'>(</span><span class='st'>"web"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/vosonSML/man/Collect.html'>Collect</a></span><span class='op'>(</span><span class='va'>pages</span>, verbose<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span></span>
<span><span class='co'>#crawlDF</span></span>
<span></span>
<span><span class='co'>#We will save this dataframe, for use later</span></span>
<span><span class='co'>#saveRDS(crawlDF, "crawlDF.rds")</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>saveRDS</a></span><span class='op'>(</span><span class='va'>crawlDF</span>, <span class='st'>"crawlDF_20_sites_depth1.rds"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="creating-hyperlink-networks">2. Creating hyperlink networks</h2>
<p>Let’s now create networks from the crawl data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>crawlDF</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>readRDS</a></span><span class='op'>(</span><span class='st'>"crawlDF_20_sites_depth1.rds"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># explore dataframe structure</span></span>
<span><span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='va'>crawlDF</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Rows: 2,826
Columns: 9
$ url       &lt;chr&gt; &quot;http://goap-global.com&quot;, &quot;http://www.reddit.com/s…
$ n         &lt;int&gt; 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1,…
$ page_err  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ page      &lt;chr&gt; &quot;https://womeninlocalization.com/partners&quot;, &quot;https…
$ depth     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ max_depth &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ parse     &lt;df[,6]&gt; &lt;data.frame[23 x 6]&gt;
$ seed      &lt;chr&gt; &quot;https://womeninlocalization.com/partners&quot;, &quot;ht…
$ type      &lt;chr&gt; &quot;int&quot;, &quot;int&quot;, &quot;int&quot;, &quot;int&quot;, &quot;int&quot;, &quot;int&quot;, &quot;int&quot;, &quot;…</code></pre>
</div>
<p>First we create the activity network: with hyperlink activity networks, the nodes are web pages. For the purpose of visualisation we will simplify the network by removing loops (with activity networks there should not be any multiple edges).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># create activity network: nodes are pages hyperlinks were collected from</span></span>
<span><span class='va'>net_activity</span> <span class='op'>&lt;-</span> <span class='va'>crawlDF</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/vosonSML/man/Create.html'>Create</a></span><span class='op'>(</span><span class='st'>"activity"</span><span class='op'>)</span></span>
<span><span class='va'>g_activity</span> <span class='op'>&lt;-</span> <span class='va'>net_activity</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/vosonSML/man/Graph.html'>Graph</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='co'>#simplify the network - remove loops and multiple edges</span></span>
<span><span class='va'>g_activity</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/simplify.html'>simplify</a></span><span class='op'>(</span><span class='va'>g_activity</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/grDevices/png.html'>png</a></span><span class='op'>(</span><span class='st'>"activity_network.png"</span>, width<span class='op'>=</span><span class='fl'>800</span>, height<span class='op'>=</span><span class='fl'>800</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>g_activity</span>, layout<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/layout_with_fr.html'>layout_with_fr</a></span><span class='op'>(</span><span class='va'>g_activity</span><span class='op'>)</span>, vertex.label<span class='op'>=</span><span class='st'>""</span>, vertex.size<span class='op'>=</span><span class='fl'>3</span>, edge.width<span class='op'>=</span><span class='fl'>1</span>, edge.arrow.size<span class='op'>=</span><span class='fl'>0.5</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/grDevices/dev.html'>dev.off</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<figure>
<img src="activity_network.png" alt="Figure 1: Hyperlink activity network - Nodes are web pages." />
<figcaption aria-hidden="true">Figure 1: Hyperlink activity network - Nodes are web pages.</figcaption>
</figure>
<p>We can see from the visualisation that the hyperlink activity network consists of a number of connected components (sets of nodes that are connected either directly or indirectly). We can look further at these clusters or components.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>cc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/components.html'>components</a></span><span class='op'>(</span><span class='va'>g_activity</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>cc</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>List of 3
 $ membership: Named num [1:1736] 1 2 3 4 5 4 3 3 3 3 ...
  ..- attr(*, &quot;names&quot;)= chr [1:1736] &quot;http://1001lakes.com/products&quot; &quot;http://abo-peoples.org&quot; &quot;http://aimitindia.com&quot; &quot;http://artexte.ca/lang/en&quot; ...
 $ csize     : num [1:15] 195 222 77 55 253 191 68 203 103 92 ...
 $ no        : int 15</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>cc</span><span class='op'>$</span><span class='va'>csize</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   25.0    52.5    92.0   115.7   193.0   253.0 </code></pre>
</div>
<p>The above indicates we have 15 weakly-connected components, and these range in size from 25 nodes to 253 nodes. It is not unexpected that the hyperlink activity network is quite disconnected since two seed pages <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> will only be directly connected if they link to each other and they will be indirectly connected if they link to the same third page.</p>
<p>We now create the actor network: with hyperlink actor networks, the nodes in the actor network are web domains (in this document we use “site” and “domain” interchangeably). For the purpose of visualisation we will simplify the network by removing loops and multiple edges. Multiple edges can arise because multiple pages within a domain can link to the same or multiple pages within another domain. We will also create an edge weight (“weight”) to store this information on multiple links between domains.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># create actor network: nodes are site domains of pages hyperlinks were collected from</span></span>
<span><span class='va'>net_actor</span> <span class='op'>&lt;-</span> <span class='va'>crawlDF</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/vosonSML/man/Create.html'>Create</a></span><span class='op'>(</span><span class='st'>"actor"</span><span class='op'>)</span></span>
<span><span class='va'>g_actor</span> <span class='op'>&lt;-</span> <span class='va'>net_actor</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/vosonSML/man/Graph.html'>Graph</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 497</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gsize.html'>ecount</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 2826</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#simplify the network - remove loops and multiple edges</span></span>
<span><span class='co'>#we will also create an edge attribute "weight"</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/E.html'>E</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span><span class='op'>$</span><span class='va'>weight</span> <span class='op'>&lt;-</span> <span class='fl'>1</span></span>
<span><span class='va'>g_actor</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/simplify.html'>simplify</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gsize.html'>ecount</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 559</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/grDevices/png.html'>png</a></span><span class='op'>(</span><span class='st'>"actor_network.png"</span>, width<span class='op'>=</span><span class='fl'>800</span>, height<span class='op'>=</span><span class='fl'>800</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>g_actor</span>, layout<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/layout_with_fr.html'>layout_with_fr</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span>, vertex.label<span class='op'>=</span><span class='st'>""</span>, vertex.size<span class='op'>=</span><span class='fl'>3</span>, edge.width<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/E.html'>E</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span><span class='op'>$</span><span class='va'>weight</span>, edge.arrow.size<span class='op'>=</span><span class='fl'>0.5</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/grDevices/dev.html'>dev.off</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<figure>
<img src="actor_network.png" alt="Figure 2: Hyperlink actor network - Nodes are web domains." />
<figcaption aria-hidden="true">Figure 2: Hyperlink actor network - Nodes are web domains.</figcaption>
</figure>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>cc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/components.html'>components</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>cc</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>List of 3
 $ membership: Named num [1:497] 1 1 1 1 1 1 1 1 1 1 ...
  ..- attr(*, &quot;names&quot;)= chr [1:497] &quot;1001lakes.com&quot; &quot;2022.mydata.org&quot; &quot;abo-peoples.org&quot; &quot;ada-x.org&quot; ...
 $ csize     : num 497
 $ no        : int 1</code></pre>
</div>
<p>The actor network has 497 nodes and 559 edges. The above indicates we have a single (weakly-connected) component: with hyperlink actor networks seeds are more likely to be connected to one another (either directly or indirectly) as they only need to link to a common domain.</p>
<h1 id="processing-nodes-in-the-hyperlink-actor-network">3. Processing nodes in the hyperlink actor network</h1>
<p>For the rest of this exercise we will use the actor network. We will now look at three approaches for processing hyperlink network data: pagegrouping, pruning, and preserving <strong>[REF to Rob’s earlier work, VOSON software]</strong>.</p>
<h2 id="pagegrouping">3.1 Pagegrouping</h2>
<p>Pagegrouping refers to merging nodes within a hyperlink network. A common example of a situation where you may want to apply pagegrouping is when you would like to ensure that a subdomain node is not shown separately in the network i.e. it is merged with its domain node. For example, we might want to merge <code>www.anu.edu.au</code> with <code>anu.edu.au</code> (or rename <code>www.anu.edu.au</code> to <code>anu.edu.au</code> if the latter does not already exist). It should be noted that whether this pagegrouping is enacted is dependent on the research setting: it might be the case that you want to keep particular subdomains separate to their parent domain. For example we might want <code>rsss.anu.edu.au</code> or <code>cass.anu.edu.au</code> to be separate nodes, and not merged with <code>anu.edu.au</code>.</p>
<p>There two approaches we can used to undertake pagrouping: (1) operating on the <code>vosonSML</code> network object (that is then used to create the <code>igraph</code> graph object); (2) operating on the <code>igraph</code> graph object. In this document we will demonstrate method (2).</p>
<h3 id="merging-nodes-into-single-canonical-domain">3.1.1 Merging nodes into single canonical domain</h3>
<p>First we are going to consolidate nodes into a single canonical domain. This will involve stripping “www” from www.x.y if only www.x.y exists and if both www.x.y and x.y exist then the former will be merged into the latter. Note that the following code also works if the canonical domain contains three or more parts e.g. x.y.z. Also note that the following step will only modify the wwww subdomain (e.g. wwww.x.y): other subbdomains (e.g. othersub.x.y) are handled below.</p>
<p>Let’s focus on an example present in this dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>g</span> <span class='op'>&lt;-</span> <span class='va'>g_actor</span>             <span class='co'>#easier to write code</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"mydata.org"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;2022.mydata.org&quot;   &quot;mydata.org&quot;        &quot;oldwww.mydata.org&quot;
[4] &quot;www.mydata.org&quot;   </code></pre>
</div>
<p>So this first step will involve merging www.mydata.org into mydata.org.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>g</span> <span class='op'>&lt;-</span> <span class='va'>g_actor</span>             <span class='co'>#easier to write code</span></span>
<span></span>
<span><span class='co'>#create vector of the sites that start with "www"</span></span>
<span><span class='va'>t2</span> <span class='op'>&lt;-</span> <span class='fl'>1</span></span>
<span><span class='va'>www_sites</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"^www\\."</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span>
<span><span class='kw'>for</span> <span class='op'>(</span><span class='va'>c</span> <span class='kw'>in</span> <span class='va'>www_sites</span><span class='op'>)</span><span class='op'>{</span></span>
<span></span>
<span>  <span class='co'>#cat("working on:", c, "\n")</span></span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>t2</span><span class='op'><a href='https://rdrr.io/r/base/Arithmetic.html'>%%</a></span><span class='fl'>100</span><span class='op'>==</span><span class='fl'>0</span><span class='op'>)</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Finished working on"</span>, <span class='va'>c</span>, <span class='st'>"("</span>, <span class='va'>t2</span>, <span class='st'>"of"</span>, <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>www_sites</span><span class='op'>)</span>, <span class='st'>")\n"</span><span class='op'>)</span></span>
<span></span>
<span>  <span class='va'>ind_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"^"</span>,<span class='va'>c</span>,<span class='st'>"$"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span></span>
<span>  <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove</a></span><span class='op'>(</span><span class='va'>c</span>,<span class='st'>"^www."</span><span class='op'>)</span></span>
<span>  </span>
<span>  <span class='co'>#if (c=="www.mydata.org")</span></span>
<span>  <span class='co'>#  break</span></span>
<span>  <span class='co'>#next</span></span>
<span>  <span class='co'>#print(i)</span></span>
<span>  <span class='co'>#print(V(g)$name[grep(i, V(g)$name)])</span></span>
<span>  <span class='co'>#num_parts &lt;- str_count(c, "\\.")</span></span>
<span>  <span class='co'>#print(num_parts)</span></span>
<span>  <span class='co'>#ind &lt;- grep(paste0(i,"$"), as.character(V(g)$name))</span></span>
<span>  <span class='co'>#ind &lt;- grep(paste0("\\.",i,"$"), as.character(V(g)$name))</span></span>
<span>  <span class='co'>#this is a hack...want to match on ".abc.com" or "abc.com"</span></span>
<span>  <span class='co'>#ind &lt;- union(grep(paste0("\\.",i,"$"), as.character(V(g)$name)), grep(paste0("^",i,"$"), as.character(V(g)$name)))</span></span>
<span>  </span>
<span>  <span class='va'>ind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"^"</span>,<span class='va'>i</span>,<span class='st'>"$"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>ind</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>     <span class='co'>#there is only the "www" version, just rename node to domain</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='va'>ind_i</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>i</span></span>
<span>    <span class='va'>t2</span> <span class='op'>&lt;-</span> <span class='va'>t2</span> <span class='op'>+</span> <span class='fl'>1</span></span>
<span>    <span class='kw'>next</span></span>
<span>  <span class='op'>}</span></span>
<span>    </span>
<span>  <span class='co'>#Otherwise, we have two versions: www.x.y and x.y: merge these</span></span>
<span>  <span class='co'>#Note we will deal with situation where we have e.g. othersubdomain.x.y below</span></span>
<span>  </span>
<span>  <span class='va'>ind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>ind_i</span>, <span class='va'>ind</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='co'>#ind &lt;- sort(ind)</span></span>
<span>  <span class='co'>#print(ind)</span></span>
<span></span>
<span>  <span class='co'>#if (length(ind)&gt;1)</span></span>
<span>  <span class='co'>#  break</span></span>
<span>    </span>
<span>  <span class='co'>#merging nodes involves creating a map of vertices e.g. if we have 5 vertices </span></span>
<span>  <span class='co'>#and want to merge nodes 1 and 2 and also merge nodes 3 and 4 the map needs to be:</span></span>
<span>  <span class='co'>#1 1 2 2 3</span></span>
<span>  <span class='co'>#i.e. nodes 1 and 2 become node 1, nodes 3 and 4 become node 2, and node 5 becomes node 3</span></span>
<span>  <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span></span>
<span>  <span class='va'>t</span> <span class='op'>&lt;-</span> <span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>+</span><span class='fl'>1</span></span>
<span>  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>j</span> <span class='kw'>in</span> <span class='op'>(</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='co'>#print(j)</span></span>
<span>    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>j</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>ind</span><span class='op'>)</span><span class='op'>{</span>     <span class='co'>#node to merge </span></span>
<span>      <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>map_i</span>, <span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span></span>
<span>    <span class='op'>}</span><span class='kw'>else</span><span class='op'>{</span>               <span class='co'>#not node to merge</span></span>
<span>      <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>map_i</span>, <span class='va'>t</span><span class='op'>)</span></span>
<span>      <span class='va'>t</span> <span class='op'>&lt;-</span> <span class='va'>t</span> <span class='op'>+</span> <span class='fl'>1</span></span>
<span>    <span class='op'>}</span></span>
<span>  <span class='op'>}</span></span>
<span>  </span>
<span>  <span class='co'>#need to use vertex.attr.comb="first" or else get weird lists in attribute</span></span>
<span>  <span class='co'>#and it messes things up.  Replaced anyway...</span></span>
<span>  <span class='va'>g</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/contract.html'>contract</a></span><span class='op'>(</span><span class='va'>g</span>, <span class='va'>map_i</span>, vertex.attr.comb<span class='op'>=</span><span class='st'>"first"</span><span class='op'>)</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>i</span>                <span class='co'>#rename the node to the non-www version</span></span>
<span>  </span>
<span>  <span class='va'>t2</span> <span class='op'>&lt;-</span> <span class='va'>t2</span> <span class='op'>+</span> <span class='fl'>1</span></span>
<span>  </span>
<span><span class='op'>}</span></span></code></pre>
</div>
<pre><code>Finished working on www.globalhealthstrategies.com ( 100 of 262 )
Finished working on www.privacyshield.gov ( 200 of 262 )</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#We have reduced the number of nodes from:</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 497</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 478</code></pre>
</div>
<h3 id="merging-other-subdomains-into-the-canonical-domain">3.1.2 Merging other subdomains into the canonical domain</h3>
<p>Now have only a single canonical version of the mydata.org domain, but there are still two subdomains (other than www).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"mydata.org"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;2022.mydata.org&quot;   &quot;mydata.org&quot;        &quot;oldwww.mydata.org&quot;</code></pre>
</div>
<p>In this next step we will merge all remaining subdomains into the canonical domain.</p>
<p>However, there might be examples of subdomains that we want “preserved” (not merged into the canonical domain), they should be specified in advance.</p>
<p>A good example is websites created using Wordpress.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"wordpress.com"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;coporwa1en.wordpress.com&quot;              
[2] &quot;datasovereigntynow.files.wordpress.com&quot;
[3] &quot;en.wordpress.com&quot;                      
[4] &quot;indigenousdatalab.wordpress.com&quot;       
[5] &quot;institutdayakologi.wordpress.com&quot;      
[6] &quot;isocbg.wordpress.com&quot;                  
[7] &quot;ourgovdotin.files.wordpress.com&quot;       
[8] &quot;subscribe.wordpress.com&quot;               
[9] &quot;wordpress.com&quot;                         </code></pre>
</div>
<p>If we don’t “preserve” these wordpress websites (which are run by different organisations or groups) then they will all be merged into a single node wordpress.com.</p>
<p>We will implement two types of preserving: (1) preserve specific subdomains, (2) preserve all subdomains via a wildcard match.</p>
<p>In the example below we will preserve specific wordpress subdomains (and the rest will be merged into the canonincal domain wordpress.com) and we will preserve all subdomains for mydata.org.</p>
<p>A final point to note is that the “wildcard” approach to preserving subddomains (what we are doing for mydata.org) will only work if there exists mydata.org. From the following, we can see that mydata.org exists, but fraunhofer.de does not exist.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"mydata.org"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;2022.mydata.org&quot;   &quot;mydata.org&quot;        &quot;oldwww.mydata.org&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"fraunhofer.de"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;isst.fraunhofer.de&quot;              
[2] &quot;websites.fraunhofer.de&quot;          
[3] &quot;dataspaces.fraunhofer.de&quot;        
[4] &quot;iee.fraunhofer.de&quot;               
[5] &quot;iml.fraunhofer.de&quot;               
[6] &quot;medical-data-space.fraunhofer.de&quot;</code></pre>
</div>
<p>If the canonical domain doesn’t exist, then we need to specify the relevant domain separately. We do this below for fraunhofer.de.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#NOTE: Remove merge code below...no longer doing here...</span></span>
<span></span>
<span><span class='co'>#vector containing the information for preserving subdomains</span></span>
<span><span class='co'>#we would most likely store this as a csv file with notes on choices made</span></span>
<span><span class='va'>preserve</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"*mydata.org"</span>, <span class='st'>"coporwa1en.wordpress.com"</span>, <span class='st'>"institutdayakologi.wordpress.com"</span>,</span>
<span>              <span class='st'>"indigenousdatalab.wordpress.com"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#the above process of merging subdomains will only work if there was www.x.y in the original dataset</span></span>
<span><span class='co'>#if this is not the case, and want to merge subdomains using a wildcard, then specify the canonical domain here</span></span>
<span><span class='va'>merge</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"y"</span>, <span class='st'>"x"</span><span class='op'>)</span></span>
<span><span class='co'>#merge &lt;- c("fraunhofer.de", "x")</span></span>
<span><span class='co'>#note that we can preserve particular subdomains of fraunhofer.de by including in preserve above</span></span>
<span></span>
<span><span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>{</span></span>
<span></span>
<span>  <span class='co'>#cat("working on:", i, "\n")</span></span>
<span>  <span class='va'>ind_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>==</span><span class='va'>i</span><span class='op'>)</span></span>
<span>  </span>
<span>  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>m</span> <span class='kw'>in</span> <span class='va'>merge</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='va'>ind_g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='va'>m</span>,<span class='va'>i</span><span class='op'>)</span></span>
<span>    <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>ind_g</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>      <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>merge</span><span class='op'>[</span><span class='va'>ind_g</span><span class='op'>]</span></span>
<span>      <span class='kw'>break</span></span>
<span>    <span class='op'>}</span></span>
<span>  <span class='op'>}</span></span>
<span>  </span>
<span>  <span class='co'>#we are going to merge all subdomains of e.g. fraunhofer.de</span></span>
<span>  </span>
<span>  <span class='co'>#want to match only on ".x.y" not "x.y"</span></span>
<span>  <span class='va'>ind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"\\."</span>,<span class='va'>i</span>,<span class='st'>"$"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  </span>
<span>  <span class='co'>#if (i=="wordpress.com")</span></span>
<span>  <span class='co'>#  break</span></span>
<span>  <span class='co'>#if (grepl("fraunhofer.de",i))</span></span>
<span>  <span class='co'>#  break</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='co'>#skip any subdomains that are to be preserved</span></span>
<span>  <span class='va'>ind_g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='va'>i</span>, <span class='va'>preserve</span><span class='op'>)</span></span>
<span>  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>j</span> <span class='kw'>in</span> <span class='va'>ind_g</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='kw'>if</span> <span class='op'>(</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"^\\*"</span>,<span class='va'>preserve</span><span class='op'>[</span><span class='va'>j</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>)</span><span class='op'>{</span>        <span class='co'>#wildcard, skip all subdomains</span></span>
<span>      <span class='va'>ind</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span></span>
<span>      <span class='kw'>break</span></span>
<span>    <span class='op'>}</span><span class='kw'>else</span><span class='op'>{</span></span>
<span>      <span class='va'>ind_rem</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>==</span><span class='va'>preserve</span><span class='op'>[</span><span class='va'>j</span><span class='op'>]</span><span class='op'>)</span></span>
<span>      <span class='va'>ind</span> <span class='op'>&lt;-</span> <span class='va'>ind</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='va'>ind</span><span class='op'>==</span><span class='va'>ind_rem</span><span class='op'>)</span><span class='op'>]</span></span>
<span>    <span class='op'>}</span></span>
<span>  <span class='op'>}</span></span>
<span>      </span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>ind</span><span class='op'>)</span><span class='op'>)</span>              <span class='co'>#there is no subdomain(s)</span></span>
<span>    <span class='kw'>next</span></span>
<span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"working on:"</span>, <span class='va'>i</span>, <span class='st'>"\n"</span><span class='op'>)</span></span>
<span>  </span>
<span>  <span class='co'>#We have one or more subdomains</span></span>
<span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='va'>ind</span><span class='op'>]</span><span class='op'>)</span></span>
<span></span>
<span>  <span class='va'>ind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>ind_i</span>, <span class='va'>ind</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>ind</span><span class='op'>)</span></span>
<span></span>
<span>  <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span></span>
<span>  <span class='va'>t</span> <span class='op'>&lt;-</span> <span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>+</span><span class='fl'>1</span></span>
<span>  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>j</span> <span class='kw'>in</span> <span class='op'>(</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='co'>#print(j)</span></span>
<span>    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>j</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>ind</span><span class='op'>)</span><span class='op'>{</span>     <span class='co'>#node to merge</span></span>
<span>      <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>map_i</span>, <span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span></span>
<span>    <span class='op'>}</span><span class='kw'>else</span><span class='op'>{</span>               <span class='co'>#not node to merge</span></span>
<span>      <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>map_i</span>, <span class='va'>t</span><span class='op'>)</span></span>
<span>      <span class='va'>t</span> <span class='op'>&lt;-</span> <span class='va'>t</span> <span class='op'>+</span> <span class='fl'>1</span></span>
<span>    <span class='op'>}</span></span>
<span>  <span class='op'>}</span></span>
<span>  </span>
<span>  <span class='va'>g</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/contract.html'>contract.vertices</a></span><span class='op'>(</span><span class='va'>g</span>, <span class='va'>map_i</span>, vertex.attr.comb<span class='op'>=</span><span class='st'>"first"</span><span class='op'>)</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>i</span></span>
<span></span>
<span><span class='op'>}</span></span></code></pre>
</div>
<pre><code>working on: arizona.edu 
[1] &quot;nni.arizona.edu&quot;           &quot;nnigovernance.arizona.edu&quot;
[1]   9 163 164
working on: innovalia.org 
[1] &quot;idsa.innovalia.org&quot;
[1] 118 127
working on: internationaldataspaces.org 
[1] &quot;docs.internationaldataspaces.org&quot;
[1]  66 128
working on: wordpress.com 
[1] &quot;datasovereigntynow.files.wordpress.com&quot;
[2] &quot;en.wordpress.com&quot;                      
[3] &quot;isocbg.wordpress.com&quot;                  
[4] &quot;ourgovdotin.files.wordpress.com&quot;       
[5] &quot;subscribe.wordpress.com&quot;               
[1]  50  79 131 168 200 228
working on: amazon.com 
[1] &quot;aws.amazon.com&quot;
[1]  13 240
working on: google.com 
[1] &quot;docs.google.com&quot;     &quot;maps.google.com&quot;     &quot;podcasts.google.com&quot;
[4] &quot;policies.google.com&quot;
[1]  65 143 172 173 323
working on: linkedin.com 
[1] &quot;de.linkedin.com&quot;
[1]  53 364
working on: microsoft.com 
[1] &quot;azure.microsoft.com&quot;
[1]  14 376
working on: nativeweb.org 
[1] &quot;ayf.nativeweb.org&quot;   &quot;saiic.nativeweb.org&quot;
[1] 248 380 413
working on: wto.org 
[1] &quot;docs.wto.org&quot;
[1]  67 456</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#We have reduced the number of nodes from:</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 497</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 459</code></pre>
</div>
<p>The following shows that the correct subdomains have been preserved. The two subdomains of mydata.org have been preserved.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"mydata.org"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;2022.mydata.org&quot;   &quot;mydata.org&quot;        &quot;oldwww.mydata.org&quot;</code></pre>
</div>
<p>We have preserved three subdomains of wordpress.com, and the rest have been merged into the canonical domain.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"wordpress.com"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;coporwa1en.wordpress.com&quot;        
[2] &quot;wordpress.com&quot;                   
[3] &quot;indigenousdatalab.wordpress.com&quot; 
[4] &quot;institutdayakologi.wordpress.com&quot;</code></pre>
</div>
<p>We have created a new canonical domain fraunhofer.de, and all but two specified subdomains have been merged into this domain.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"fraunhofer.de"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;isst.fraunhofer.de&quot;              
[2] &quot;websites.fraunhofer.de&quot;          
[3] &quot;dataspaces.fraunhofer.de&quot;        
[4] &quot;iee.fraunhofer.de&quot;               
[5] &quot;iml.fraunhofer.de&quot;               
[6] &quot;medical-data-space.fraunhofer.de&quot;</code></pre>
</div>
<h3 id="custom-merging-of-domains">3.1.3 Custom merging of domains</h3>
<p>The above code showed how to merge subdomains “in bulk”, and we also showed how to control this merging by “preserving” subdomains. But we might need to undertake an additional step for merging domains and subdomains. When an organisation uses two or more websites, it might be desirable to merge the relevant domains into a single node in the actor network. The following approach also takes account of the situation we found above for fraunhofer.de: the bulk merging did not work because the canonical domain fraunhofer.de doesn’t exist in our hyperlink actor network.</p>
<p>The following code does this with reference to the following examples:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"womeninlocalization"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;womeninlocalization.com&quot; &quot;womeninlocalization.org&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"fraunhofer"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;isst.fraunhofer.de&quot;              
[2] &quot;websites.fraunhofer.de&quot;          
[3] &quot;dataspaces.fraunhofer.de&quot;        
[4] &quot;iee.fraunhofer.de&quot;               
[5] &quot;iml.fraunhofer.de&quot;               
[6] &quot;medical-data-space.fraunhofer.de&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"undocs|undp|uneca|unpo|unhcr|unstats|unwomen|unesco|un\\.org"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code> [1] &quot;digitallibrary.un.org&quot; &quot;en.unesco.org&quot;        
 [3] &quot;lac.unwomen.org&quot;       &quot;tierracomun.org&quot;      
 [5] &quot;undocs.org&quot;            &quot;unstats.un.org&quot;       
 [7] &quot;undp.org&quot;              &quot;uneca.org&quot;            
 [9] &quot;unhcr.org&quot;             &quot;unpo.org&quot;             </code></pre>
</div>
<p>As with the above, this step involves pre-specification of how the sites are to be merged. We will use a wildcard to merge the two womeninlocalization sites. We will also bulk merge subdomains of fraunhofer.de, preserving two subdomains. Finally, we will merge selected domains from the UN into a canonical domain un.org. Note that in the case of fraunhofer and the UN, the decision of which subdomains and domains to merge is somewhat arbitrary: this is just for purposes of showing example code.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#vector containing the information for preserving subdomains</span></span>
<span><span class='co'>#we would most likely store this as a csv file with notes on choices made</span></span>
<span><span class='va'>preserve</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"dataspaces.fraunhofer.de"</span>,<span class='st'>"medical-data-space.fraunhofer.de"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#the above process of merging subdomains will only work if there was www.x.y in the original dataset</span></span>
<span><span class='co'>#if this is not the case, and want to merge subdomains using a wildcard, then specify the canonical domain here</span></span>
<span><span class='co'>#note that here we use a dataframe with the first column being the canonical domain (what other domains/subdomains will be merged into), and subsequent columns are the other domains/subdomains.  If only the first column is specified, then a bulk merge will be undertaken</span></span>
<span><span class='co'>#There are two types of merge below:</span></span>
<span><span class='co'># (1) bulk merge: this is when there is only one column in the data frame, the canonical domain.  This domain needs to be contained in the subdomains that are to be merged</span></span>
<span><span class='co'># (2) bespoke merge: this is when the first column contains the domain which all the other subdomains/domains will be merged into.  Note that this domain does not even need to exist in the hyperlink actor network</span></span>
<span><span class='co'>#the following will only work if the canonical domain is contained in at least one </span></span>
<span><span class='co'>#Note that this would normally be stored in csv file</span></span>
<span><span class='va'>ex1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>V1<span class='op'>=</span><span class='st'>"womeninlocalization.org"</span>, V2<span class='op'>=</span><span class='st'>"womeninlocalization.com"</span><span class='op'>)</span>    <span class='co'>#bespoke merge</span></span>
<span><span class='va'>ex2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>V1<span class='op'>=</span><span class='st'>"fraunhofer.de"</span><span class='op'>)</span>                                            <span class='co'>#bulk merge</span></span>
<span><span class='va'>ex3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>V1<span class='op'>=</span><span class='st'>"un.org"</span>, V2<span class='op'>=</span><span class='st'>"en.unesco.org"</span>, V3<span class='op'>=</span><span class='st'>"lac.unwomen.org"</span>, V4<span class='op'>=</span><span class='st'>"undocs.org"</span>, V5<span class='op'>=</span><span class='st'>"unstats.un.org"</span>, V6<span class='op'>=</span><span class='st'>"undp.org"</span>, V7<span class='op'>=</span><span class='st'>"uneca.org"</span><span class='op'>)</span>         <span class='co'>#bespoke merge</span></span>
<span><span class='va'>merge</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind_rows.html'>bind_rows</a></span><span class='op'>(</span><span class='va'>ex1</span>, <span class='va'>ex2</span>, <span class='va'>ex3</span><span class='op'>)</span></span>
<span><span class='co'>#note that we preserve particular subdomains of fraunhofer.de by including in preserve above</span></span>
<span></span>
<span><span class='co'>#seems most efficient to iterate over nodes first, rather than iterating over merges first</span></span>
<span><span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>{</span></span>
<span>  </span>
<span>  <span class='co'>#cat("working on:", i, "\n")</span></span>
<span>  <span class='va'>ind_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>==</span><span class='va'>i</span><span class='op'>)</span></span>
<span></span>
<span>  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>m</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>merge</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='va'>col1</span> <span class='op'>&lt;-</span> <span class='va'>merge</span><span class='op'>[</span><span class='va'>m</span>,<span class='fl'>1</span><span class='op'>]</span></span>
<span>    <span class='va'>othcol</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span></span>
<span>    <span class='kw'>for</span> <span class='op'>(</span><span class='va'>m2</span> <span class='kw'>in</span> <span class='fl'>2</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>merge</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>      <span class='kw'>if</span> <span class='op'>(</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>merge</span><span class='op'>[</span><span class='va'>m</span>,<span class='va'>m2</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>)</span></span>
<span>        <span class='va'>othcol</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>othcol</span>, <span class='va'>merge</span><span class='op'>[</span><span class='va'>m</span>,<span class='va'>m2</span><span class='op'>]</span><span class='op'>)</span></span>
<span>      <span class='kw'>else</span></span>
<span>        <span class='kw'>break</span></span>
<span>    <span class='op'>}</span></span>
<span>    <span class='co'>#print(col1)</span></span>
<span>    <span class='co'>#print(othcol)</span></span>
<span></span>
<span>    <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span><span class='op'>(</span><span class='va'>othcol</span><span class='op'>)</span><span class='op'>)</span>                 <span class='co'>#bulk match - grep match on first col</span></span>
<span>      <span class='va'>ind_g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='va'>col1</span>,<span class='va'>i</span><span class='op'>)</span>              <span class='co'>#should search on ".[pattern]"</span></span>
<span>    <span class='kw'>else</span></span>
<span>      <span class='va'>ind_g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/match.html'>match</a></span><span class='op'>(</span><span class='va'>i</span>,<span class='va'>othcol</span><span class='op'>)</span>           <span class='co'>#exact match on othcol</span></span>
<span></span>
<span>    <span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>ind_g</span><span class='op'>)</span><span class='op'>)</span></span>
<span>      <span class='va'>ind_g</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span></span>
<span>      </span>
<span>    <span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>ind_g</span><span class='op'>)</span><span class='op'>)</span>                   <span class='co'>#we have a match</span></span>
<span>      <span class='kw'>break</span></span>
<span>  <span class='op'>}</span></span>
<span></span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>ind_g</span><span class='op'>)</span><span class='op'>)</span>        <span class='co'>#no merging for this node</span></span>
<span>    <span class='kw'>next</span></span>
<span>    </span>
<span>  <span class='co'>#we are going to merge only node i (this is different to the above code)</span></span>
<span>    </span>
<span>  <span class='co'>#break</span></span>
<span>  </span>
<span>  <span class='co'>#but first check that this node is not to be preserved</span></span>
<span>  <span class='co'>#can be exact match for this</span></span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/match.html'>match</a></span><span class='op'>(</span><span class='va'>i</span>, <span class='va'>preserve</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>i</span>, <span class='st'>"is to be preserved\n"</span><span class='op'>)</span></span>
<span>    <span class='kw'>next</span></span>
<span>  <span class='op'>}</span></span>
<span>  </span>
<span>  <span class='co'>#Also check that the node we are merging is not the same as the node we are merging to i.e. not merging</span></span>
<span>  <span class='co'>#fraunhofer.de -&gt; fraunhofer.de</span></span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span><span class='op'>==</span><span class='va'>col1</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>i</span>, <span class='st'>", trying to merge node with itself...\n"</span><span class='op'>)</span></span>
<span>    <span class='kw'>next</span></span>
<span>  <span class='op'>}</span></span>
<span>    </span>
<span>  <span class='co'>#break</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>i</span>, <span class='st'>"merged to"</span>, <span class='va'>col1</span>, <span class='st'>"\n"</span><span class='op'>)</span> </span>
<span></span>
<span>  <span class='co'>#next we check if the node that i is being merged with even exists</span></span>
<span>  <span class='co'>#if it doesn't then we just rename i, and we are done</span></span>
<span>  <span class='va'>dom_match</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/match.html'>match</a></span><span class='op'>(</span><span class='va'>col1</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span></span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>dom_match</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='va'>ind_i</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>col1</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"renaming"</span>, <span class='va'>i</span>, <span class='st'>"to"</span>, <span class='va'>col1</span>, <span class='st'>"\n"</span><span class='op'>)</span></span>
<span>    <span class='kw'>next</span></span>
<span>  <span class='op'>}</span></span>
<span>   </span>
<span>  <span class='co'>#break</span></span>
<span>  </span>
<span>  <span class='co'>#the following will only have two nodes in it, but use it so can re-use code from above</span></span>
<span>  <span class='va'>ind</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>ind_i</span>, <span class='va'>dom_match</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  </span>
<span>  <span class='co'>#break</span></span>
<span>  </span>
<span>  <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span></span>
<span>  <span class='va'>t</span> <span class='op'>&lt;-</span> <span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>+</span><span class='fl'>1</span></span>
<span>  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>j</span> <span class='kw'>in</span> <span class='op'>(</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>    <span class='co'>#print(j)</span></span>
<span>    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>j</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>ind</span><span class='op'>)</span><span class='op'>{</span>     <span class='co'>#node to merge</span></span>
<span>      <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>map_i</span>, <span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span></span>
<span>    <span class='op'>}</span><span class='kw'>else</span><span class='op'>{</span>               <span class='co'>#not node to merge</span></span>
<span>      <span class='va'>map_i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>map_i</span>, <span class='va'>t</span><span class='op'>)</span></span>
<span>      <span class='va'>t</span> <span class='op'>&lt;-</span> <span class='va'>t</span> <span class='op'>+</span> <span class='fl'>1</span></span>
<span>    <span class='op'>}</span></span>
<span>  <span class='op'>}</span></span>
<span>  </span>
<span>  <span class='va'>g</span> <span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/contract.html'>contract.vertices</a></span><span class='op'>(</span><span class='va'>g</span>, <span class='va'>map_i</span>, vertex.attr.comb<span class='op'>=</span><span class='st'>"first"</span><span class='op'>)</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='va'>ind</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>col1</span></span>
<span>  </span>
<span><span class='op'>}</span></span></code></pre>
</div>
<pre><code>en.unesco.org merged to un.org 
renaming en.unesco.org to un.org 
isst.fraunhofer.de merged to fraunhofer.de 
renaming isst.fraunhofer.de to fraunhofer.de 
lac.unwomen.org merged to un.org 
undocs.org merged to un.org 
unstats.un.org merged to un.org 
websites.fraunhofer.de merged to fraunhofer.de 
womeninlocalization.com merged to womeninlocalization.org 
dataspaces.fraunhofer.de is to be preserved
iee.fraunhofer.de merged to fraunhofer.de 
iml.fraunhofer.de merged to fraunhofer.de 
medical-data-space.fraunhofer.de is to be preserved
undp.org merged to un.org 
uneca.org merged to un.org </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#We have reduced the number of nodes from:</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g_actor</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 497</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/gorder.html'>vcount</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] 450</code></pre>
</div>
<p>The following confirms that the merges have taken place correctly.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"womeninlocalization"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;womeninlocalization.org&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"fraunhofer"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;fraunhofer.de&quot;                   
[2] &quot;dataspaces.fraunhofer.de&quot;        
[3] &quot;medical-data-space.fraunhofer.de&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"undocs|undp|uneca|unpo|unhcr|unstats|unwomen|unesco|un\\.org"</span>, <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>name</span><span class='op'>)</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>[1] &quot;digitallibrary.un.org&quot; &quot;un.org&quot;               
[3] &quot;tierracomun.org&quot;       &quot;unhcr.org&quot;            
[5] &quot;unpo.org&quot;             </code></pre>
</div>
<p>*** ROB IS UP TO HERE ***</p>
<h2 id="pruning">3.2 Pruning</h2>
<p>Pruning refers to removing nodes that are considered not relevant to the analysis. It is highly likely that the web crawler will pick up pages that are not relevant to the study, and so we use pruning to identify and remove these irrelevant pages.</p>
<h3 id="seed-sites-only">Seed sites only</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># identify the seed pages and set a node attribute</span></span>
<span><span class='co'># we are also removing http tag and trailing forward slash</span></span>
<span><span class='va'>seed_pages</span> <span class='op'>&lt;-</span> <span class='va'>pages</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>page <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>"^http[s]?://"</span><span class='op'>)</span>, seed <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span><span class='co'># also remove trailing "/"</span></span>
<span><span class='va'>seed_pages</span> <span class='op'>&lt;-</span> <span class='va'>seed_pages</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>page <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove</a></span><span class='op'>(</span><span class='va'>page</span>, <span class='st'>"/$"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#Because default vosonsml behaviour when creating actor network is to </span></span>
<span><span class='co'>#not "preserve" subdirectories, this means that seed site:</span></span>
<span><span class='co'>#womeninlocalization.com/partners </span></span>
<span><span class='co'>#is in the network as:</span></span>
<span><span class='co'>#womeninlocalization.com</span></span>
<span><span class='co'>#As a HACK for time being, we will ignore the preservation issue</span></span>
<span><span class='co'>#So adjust the URL in seed_pages accordingly, so we can get identify all seeds in the network</span></span>
<span></span>
<span><span class='co'>#The following will return just the domain name</span></span>
<span><span class='va'>a</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_match.html'>str_match</a></span><span class='op'>(</span><span class='va'>seed_pages</span><span class='op'>$</span><span class='va'>page</span>, <span class='st'>"(.+?)/"</span><span class='op'>)</span></span>
<span><span class='va'>seed_pages</span><span class='op'>$</span><span class='va'>page</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"/"</span>, <span class='va'>seed_pages</span><span class='op'>$</span><span class='va'>page</span><span class='op'>)</span>, <span class='va'>a</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span>, <span class='va'>seed_pages</span><span class='op'>$</span><span class='va'>page</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>seed_pages</span> <span class='op'>&lt;-</span> <span class='va'>seed_pages</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>page</span>, .keep_all<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>seed_pages</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>net_actor</span><span class='op'>$</span><span class='va'>nodes</span> <span class='op'>&lt;-</span> <span class='va'>net_actor</span><span class='op'>$</span><span class='va'>nodes</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>seed_pages</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"id"</span> <span class='op'>=</span> <span class='st'>"page"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># create an igraph object from the network</span></span>
<span><span class='va'>g</span> <span class='op'>&lt;-</span> <span class='va'>net_actor</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/vosonSML/man/Graph.html'>Graph</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#simplify the network - remove loops and multiple edges</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/E.html'>E</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>weight</span> <span class='op'>&lt;-</span> <span class='fl'>1</span></span>
<span><span class='va'>g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/simplify.html'>simplify</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#OK now have all 11 seeds in the network</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>seed</span><span class='op'>)</span></span>
<span><span class='co'>#TRUE </span></span>
<span><span class='co'>#11 </span></span>
<span></span>
<span><span class='co'>#create igraph graph of just the seed sites</span></span>
<span><span class='va'>g_seed</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/subgraph.html'>induced.subgraph</a></span><span class='op'>(</span><span class='va'>g</span>, <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>seed</span><span class='op'>==</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='co'>#png("activity.png", width=800, height=800)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>g_seed</span>, layout<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/layout_with_fr.html'>layout_with_fr</a></span><span class='op'>(</span><span class='va'>g_seed</span><span class='op'>)</span>, vertex.label<span class='op'>=</span><span class='st'>""</span>, vertex.size<span class='op'>=</span><span class='fl'>3</span>, edge.width<span class='op'>=</span><span class='fl'>1</span>, edge.arrow.size<span class='op'>=</span><span class='fl'>0.5</span><span class='op'>)</span></span>
<span><span class='co'>#dev.off()</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>color</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>seed</span><span class='op'>==</span><span class='cn'>TRUE</span>, <span class='st'>"red"</span>, <span class='st'>"blue"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>g</span>, layout<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/layout_with_fr.html'>layout_with_fr</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span>, vertex.label<span class='op'>=</span><span class='st'>""</span>, vertex.size<span class='op'>=</span><span class='fl'>3</span>, edge.width<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/E.html'>E</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>weight</span>, edge.arrow.size<span class='op'>=</span><span class='fl'>0.5</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="seed-sites-plus-important-other-sites">Seed sites plus “important” other sites</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>g_seedImp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/subgraph.html'>induced.subgraph</a></span><span class='op'>(</span><span class='va'>g</span>, <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>seed</span><span class='op'>==</span><span class='cn'>TRUE</span> <span class='op'>|</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/degree.html'>degree</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>&gt;=</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>g_seedImp</span>, layout<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/layout_with_fr.html'>layout_with_fr</a></span><span class='op'>(</span><span class='va'>g_seedImp</span><span class='op'>)</span>, vertex.size<span class='op'>=</span><span class='fl'>3</span>, edge.width<span class='op'>=</span><span class='fl'>1</span>, edge.arrow.size<span class='op'>=</span><span class='fl'>0.5</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h1 id="pruning-1">Pruning</h1>
<p>The above “seeds plus important” network has sites that are not relevant to the study. let’s prune them.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
